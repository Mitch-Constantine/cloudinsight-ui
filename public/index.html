<!DOCTYPE html>
<html ng-app="cloudInsightUI">
	<head>
		<link href="bower_components/bower-bootstrap-css/bootstrap.css" rel="stylesheet">
		<link href="bower_components/ng-grid/ng-grid.css" rel="stylesheet">
		<link href="css/cloudinsight.css" rel="stylesheet">

		<script src="bower_components/jquery/jquery.js"></script>
		<script src="bower_components/angular/angular.js"></script>
		<script src="bower_components/angular-resource/angular-resource.js"></script>
		<script src="bower_components/angular-ui/build/angular-ui.js"></script>
		<script src="bower_components/underscore/underscore.js"></script>
		<script src="bower_components/ngUpload/ng-upload.js"></script>
		<script src="bower_components/angular-ui/build/angular-ui.js"></script>
		<script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script>
		<script src="bower_components/ng-grid/ng-grid-2.0.7.debug.js"></script>
		<script src="coffee/TopologyGridController.js"></script>
	</head>
	<body ng-controller="TopologyGridController">

		<div class="container">

			<div class="pull-right">
				{{config.user}} on http://{{config.server}}:{{config.port}}
			</div>
			<h1>CloudInsight UI</h1>

			<br/>

			<div class="row">
				<div class="span2">
					<tabset vertical="true" type="'pills'">
						<tab heading="Topologies"></tab>
						<tab heading="Next Module"></tab>
							<!--<img src="http://www.trafficpolicemumbai.org/marathi/marimage/website_under_construction.gif">-->
						</tab>				
					</tabset>
				</div>
				<div class="span10">
					<div>
					  <alert ng-repeat="alert in main_alerts" type="alert.type" close="closeAlert($index)">{{alert.msg}}</alert>
					</div>
					
					<button ng-click="newTopology()" class="btn">New</button>
					<button ng-click="deleteTopology()" class="btn">Delete</button>
					<button ng-click="deployTopology()" class="btn">Deploy</button>
					<button ng-click="undeployTopology()" class="btn">Undeploy</button>
					<button ng-click="repairTopology()" class="btn">Repair</button>
					
					<br/>
					<br/>

					<div ng-grid="gridOptions" class="gridStyle"></div>
		
					<div ng-controller="ModalEditTopologyController">

					    <div modal="topologyToEdit" close="close()" options="opts">
					        <div class="modal-header">
					            <h3>Edit topology</h3>
					        </div>
					        <div class="modal-body">
								<div>
								  <alert ng-repeat="alert in alerts" type="alert.type" close="closeAlert($index)">{{alert.msg}}</alert>
								</div>

					        	<form class="form-horizontal content">
					        		<div class="control-group">
										<label class="control-label" for="inputName">Name</label>
										<div class="controls">
											<input type="text" id="inputName" ng-model="topologyToEdit.name">
										</div>
									</div>
					        		<div class="control-group">
										<label class="control-label" for="inputDescription">Description</label>
										<div class="controls">
											<input type="text" id="inputDescription" ng-model="topologyToEdit.description">
										</div>
									</div>
					        		<div class="control-group">
										<label class="control-label" for="inputDefinition">Definition</label>
										<div class="controls">
											<textarea id="inputDefinition" ng-model="topologyToEdit.pattern" rows="7" cols="40" ng-readonly="!topologyToEdit.isNew"></textarea>
										</div>
									</div>
			 		        	</form>
			 		        	<hr/>
								<form action="/apiproxy/uploaded_files?file_type=war_file" ng-upload class="form-horizontal"> 
			 		        		<div class="control-group">
										<label class="control-label" for="inputName">War file:</label>
										<div class="controls">
										 	<input type="file" name="file"></input>
			      							<input type="submit" value="Upload" upload-submit="uploadComplete(content, completed)"></input>
			      						</div>
			      					</div>
			    				</form>
			 					<form action="/apiproxy/uploaded_files?file_type=sql_script_file" ng-upload class="form-horizontal"> 
			 		        		<div class="control-group">
										<label class="control-label" for="inputName">Sql file:</label>
										<div class="controls">
										 	<input type="file" name="file"></input>
			      							<input type="submit" value="Upload" upload-submit="uploadComplete(content, completed)"></input>
			      						</div>
			      					</div>
			    				</form>   				
					        </div>
					        <div class="modal-footer">
					            <button class="btn btn-primary" ng-click="save()" ng-disabled="false">Save</button>
					            <button class="btn" ng-click="close()" ng-disabled="false">Cancel</button>
					        </div>
					    </div>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>